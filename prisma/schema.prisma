generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String   @id @default(cuid())
  name      String
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
}

model Collection {
  id            String         @id @default(cuid())
  title         String
  description   String
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  cards         Card[]
  studySessions StudySession[]
}

model Card {
  id             String        @id @default(cuid())
  front          String
  back           String
  createdAt      DateTime      @default(now())
  collectionId   String
  collection     Collection    @relation(fields: [collectionId], references: [id], onDelete: Cascade)
  studyResults   StudyResult[]
}

model StudySession {
  id           String        @id @default(cuid())
  collectionId String
  collection   Collection    @relation(fields: [collectionId], references: [id], onDelete: Cascade)
  completedAt  DateTime      @default(now())
  results      StudyResult[]
}

model StudyResult {
  id             String       @id @default(cuid())
  known          Boolean
  cardId         String
  card           Card         @relation(fields: [cardId], references: [id], onDelete: Cascade)
  studySessionId String
  studySession   StudySession @relation(fields: [studySessionId], references: [id], onDelete: Cascade)
}
